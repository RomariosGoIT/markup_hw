input
{
display: none;
}

label
{
text-decoration: underline;
}
span {
  border-radius: 5px 5px 5px 5px;
  padding: 0 5px;
  color: white;
}

#red:checked ~ .red
{
display: none;
}
#green:checked ~ .green
{
display: none;
}
#blue:checked ~ .blue
{
display: none;
}
span.red
{
background: red;
}
span.green
{
background: green;
}
span.blue
{
background: blue;
}
label[for=red] {
color: red;
}
label[for=green] {
color: green;
}
label[for=blue] {
color: blue;
}

input[type=checkbox]#red:checked ~ label[for=red] {
  opacity: 0.5;
}
input[type=checkbox]#green:checked ~ label[for=green] {
  opacity: 0.5;
}
input[type=checkbox]#blue:checked ~ label[for=blue] {
  opacity: 0.5;
}
